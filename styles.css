:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --border:rgba(15,23,42,0.12);
  --border2:rgba(15,23,42,0.18);
  --primary:#0b5cab;
  --primaryHover:#094a8a;
  --shadow:0 10px 24px rgba(15,23,42,0.06);
}

*{ box-sizing:border-box; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

.app-shell{ max-width:1200px; margin:0 auto; }

/* Header */
.app-header{
  background:#fff;
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  z-index:50;
}

.header-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  padding:0.85rem 1rem;
}

.brand-block{ display:flex; align-items:center; gap:0.85rem; }
.brand-logo{
  width:44px; height:44px;
  border-radius:10px;
  background:#fff;
  border:1px solid var(--border);
  box-shadow:0 2px 10px rgba(15,23,42,0.05);
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
}
.brand-logo img{ max-width:85%; max-height:85%; object-fit:contain; }
.logo-fallback{ font-weight:800; color:var(--primary); letter-spacing:0.5px; }

.brand-title{ font-size:1.05rem; font-weight:700; line-height:1.1; }
.brand-subtitle{ font-size:0.78rem; color:var(--muted); margin-top:3px; }

.header-status{ display:flex; gap:0.5rem; flex-wrap:wrap; justify-content:flex-end; }
.status-pill{
  display:inline-flex;
  padding:0.28rem 0.65rem;
  border-radius:999px;
  font-size:0.72rem;
  border:1px solid var(--border);
  color:var(--muted);
  background:#fff;
}
.status-pill--secure{ border-color:rgba(11,92,171,0.25); background:rgba(11,92,171,0.06); color:var(--primary); }
.status-pill--cloud{ border-color:rgba(14,165,233,0.25); background:rgba(14,165,233,0.06); color:#0369a1; }

/* Top nav tabs */
.top-nav{
  background:#fff;
  border-bottom:1px solid var(--border);
}
.top-nav-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:0.75rem;
  padding:0.55rem 1rem;
}
.nav-tab{
  border:none;
  background:transparent;
  padding:0.45rem 0.65rem;
  border-radius:10px;
  font-weight:650;
  font-size:0.9rem;
  color:#334155;
}
.nav-tab:hover{ background:rgba(15,23,42,0.04); }
.nav-tab.is-active{
  background:rgba(11,92,171,0.08);
  color:var(--primary);
}
.nav-actions{ display:flex; align-items:center; }

.btn-primary{
  background:var(--primary);
  border-color:var(--primary);
}
.btn-primary:hover{
  background:var(--primaryHover);
  border-color:var(--primaryHover);
}

.app-main{ padding:1rem; }

/* Card system */
.card-ui{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:var(--shadow);
}
.card-ui__header{ padding:0.85rem 1rem; border-bottom:1px solid var(--border); }
.card-ui__title{ margin:0; font-size:1rem; font-weight:750; }
.card-ui__subtitle{ margin-top:6px; font-size:0.78rem; color:var(--muted); }
.card-ui__body{ padding:1rem; }

.form-label{ font-size:0.78rem; font-weight:650; color:#334155; margin-bottom:0.25rem; }
.req{ color:#dc2626; font-weight:800; }
.form-control,.form-select{
  border-radius:12px;
  border-color:var(--border2);
  font-size:0.92rem;
}
.form-control:focus,.form-select:focus{
  border-color:rgba(11,92,171,0.55);
  box-shadow:0 0 0 .2rem rgba(11,92,171,0.12);
}

.micro{ font-size:0.75rem; }
.muted{ color:var(--muted); }

.form-actions{ display:flex; gap:0.5rem; margin-top:1rem; flex-wrap:wrap; }

.table-wrap{
  max-height:42vh;
  overflow:auto;
  border:1px solid var(--border);
  border-radius:12px;
}
.table{ margin:0; font-size:0.82rem; }
.table thead th{
  position:sticky;
  top:0;
  background:#f8fafc;
  z-index:1;
  border-bottom:1px solid var(--border);
}
.table-striped > tbody > tr:nth-of-type(odd){ --bs-table-accent-bg: rgba(15,23,42,0.03); }

.summary-row{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }

/* Log box */
.log-box{
  background:#0b1120;
  color:#e5e7eb;
  border-radius:12px;
  border:1px solid rgba(148,163,184,0.25);
  padding:0.75rem;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
  font-size:0.78rem;
  max-height:260px;
  overflow:auto;
}

/* QR overlay modal */
#qrScannerOverlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,0.45);
  display:none;
  z-index:9999;
  padding:1rem;
}
#qrScannerOverlay.is-open{
  display:flex;
  align-items:center;
  justify-content:center;
}
#qrScannerBox{
  width:100%;
  max-width:560px;
  background:#fff;
  border-radius:14px;
  border:1px solid var(--border);
  box-shadow:0 18px 50px rgba(15,23,42,0.25);
  padding:1rem;
}
#qr-reader{
  width:100%;
  min-height:280px;
  background:#f8fafc;
  border:1px dashed rgba(15,23,42,0.2);
  border-radius:12px;
}

@media (max-width: 840px){
  .top-nav-inner{ flex-wrap:wrap; }
  .nav-actions{ width:100%; justify-content:space-between; }
}
